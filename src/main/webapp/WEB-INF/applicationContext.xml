<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:tx="http://www.springframework.org/schema/tx"
       xsi:schemaLocation="
      http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd
      http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-2.5.xsd">

	<!-- This is very important - it will selectively load our beans for the (machine specified) profile
    or use the default profile if none is specified. See AUS-1932
    <import resource="profile-${AUSCOPE_PORTAL_PROFILE:portal-test}.xml" />-->

   <!-- Turn on HostPrecedingPropertyPlaceholderConfigurer -->
   <!-- http://jdwyah.blogspot.com/2006/12/updated-spring-configuration.html -->
   <bean id="propertyConfigurer" class="org.auscope.portal.server.util.PortalPropertyPlaceholderConfigurer">
      <property name="locations">
         <list>
            <value>classpath:config.properties</value>
            <!--  Spring SpEL magic - use context parameter or the default war env.properties -->
            <value>#{contextParameters['envPropertiesLocation'] ?: 'classpath:env.properties'}</value>
         </list>
      </property>
   </bean>



   <bean id="geonetworkCredentials" class="org.auscope.portal.server.web.GeonetworkDetails">
        <property name="url" value="${env.outputgeonetwork.baseurl}"/>
        <property name="user" value="${env.outputgeonetwork.user}"/>
        <property name="password" value="${env.outputgeonetwork.password}"/>
   </bean>

   <bean id="connectionParams" class="org.apache.commons.httpclient.params.HttpConnectionManagerParams">
        <property name="connectionTimeout" value="900000"/> <!--  15 minutes -->
        <property name="soTimeout" value="900000"/> <!--  15 minutes -->
   </bean>

	<bean id="cswVEGLDev" class="org.auscope.portal.server.web.service.CSWServiceItem">
        <constructor-arg index="0" value="http://siss1.anu.edu.au/geonetwork/srv/en/csw"/>
    </bean>

	<bean id="cswVEGLTest" class="org.auscope.portal.server.web.service.CSWServiceItem">
		<constructor-arg index="0" value="http://siss1.anu.edu.au/geonetwork/srv/en/csw"/>
	</bean>

	<bean id="cswVEGLProduction" class="org.auscope.portal.server.web.service.CSWServiceItem">
        <constructor-arg index="0" value="http://siss1.anu.edu.au/geonetwork/srv/en/csw"/>
    </bean>

   <bean id="knownTypeBouguerGeodetic" class="org.auscope.portal.server.web.KnownLayerWMS">
       <constructor-arg name="title" value="Onshore Only Bouguer Geodetic"/>
       <constructor-arg name="description" value=""/>
       <constructor-arg name="layerName" value="onshore_only_Bouguer_geodetic"/>
   </bean>

   <bean id="knownTypeGravAnomalyGeodetic" class="org.auscope.portal.server.web.KnownLayerWMS">
       <constructor-arg name="title" value="Onshore and Offshore Gravity Anomaly Geodetic"/>
       <constructor-arg name="description" value=""/>
       <constructor-arg name="layerName" value="onshore_and_offshore_gravity_anomaly_geodetic"/>
   </bean>

   <bean id="knownTypeMagMap" class="org.auscope.portal.server.web.KnownLayerWMS">
       <constructor-arg name="title" value="MagMap V5 2010"/>
       <constructor-arg name="description" value=""/>
       <constructor-arg name="layerName" value="magmap_V5_2010"/>
   </bean>

   <bean id="knownTypeRadMapTotaldose" class="org.auscope.portal.server.web.KnownLayerWMS">
       <constructor-arg name="title" value="RadMap Totaldose"/>
       <constructor-arg name="description" value=""/>
       <constructor-arg name="layerName" value="radmap10_filtered_totaldose"/>
   </bean>

    <bean id="stagingInfo" class="org.auscope.portal.server.cloud.StagingInformation">
    	<property name="stageInDirectory" value="${HOST.localStageInDir}"></property>
    </bean>

    <bean id="veglJobManager" class="org.auscope.portal.server.vegl.VEGLJobManager">
        <property name="veglJobDao" ref="veglJobDao"/>
        <property name="veglSeriesDao" ref="veglSeriesDao"/>
    </bean>

    <bean id="veglJobDao" class="org.auscope.portal.server.vegl.VEGLJobDao">
        <property name="sessionFactory" ref="veglSessionFactory"/>
    </bean>

    <bean id="veglSeriesDao" class="org.auscope.portal.server.vegl.VEGLSeriesDao">
        <property name="sessionFactory" ref="veglSessionFactory"/>
    </bean>

    <bean id="veglSessionFactory" class="org.springframework.orm.hibernate3.LocalSessionFactoryBean">
        <property name="dataSource" ref="dataSource"/>
        <property name="mappingResources">
            <list>
                <value>vegljob.hbm.xml</value>
                <value>veglseries.hbm.xml</value>
            </list>
        </property>
        <property name="hibernateProperties">
            <value>hibernate.dialect=org.hibernate.dialect.HSQLDialect</value>
        </property>
    </bean>

    <bean id="multipartResolver"
        class="org.springframework.web.multipart.commons.CommonsMultipartResolver">
   </bean>
</beans>